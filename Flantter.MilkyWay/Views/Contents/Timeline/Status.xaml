<UserControl
    x:Class="Flantter.MilkyWay.Views.Contents.Timeline.Status"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Flantter.Cascade.Views.Contents.Timeline"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:i="using:Microsoft.Xaml.Interactivity"
	xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:winRTXamlControls="using:WinRTXamlToolkit.Controls"
    xmlns:controls="using:Flantter.MilkyWay.Views.Controls"
    xmlns:behaviors="using:Flantter.MilkyWay.Views.Behaviors"
    xmlns:setting="using:Flantter.MilkyWay.Setting"
    xmlns:common="using:Flantter.MilkyWay.Common"
	xmlns:util="using:Flantter.MilkyWay.Views.Util"
    mc:Ignorable="d"
    d:DesignHeight="200"
    d:DesignWidth="400">

    <UserControl.Resources>
        <Storyboard x:Name="TweetSlideAnimation">
            <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="TweetGrid">
                <EasingDoubleKeyFrame KeyTime="0" Value="-40">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
                <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <QuarticEase EasingMode="EaseOut"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="TweetGrid">
                <LinearDoubleKeyFrame KeyTime="0" Value="0"/>
                <LinearDoubleKeyFrame KeyTime="0:0:0.2" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Name="TweetExpandAnimation">
            <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)" Storyboard.TargetName="TweetGrid">
                <LinearDoubleKeyFrame KeyTime="0" Value="0"/>
                <LinearDoubleKeyFrame KeyTime="0:0:0.2" Value="1"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </UserControl.Resources>
    
    <Grid x:Name="TweetGrid" behaviors:TweetBackgroundColorBehavior.RetweetBackground="{StaticResource TweetFieldTweetListTweetRetweetBackgroundBrush}" behaviors:TweetBackgroundColorBehavior.FavoriteBackground="{StaticResource TweetFieldTweetListTweetFavoriteBackgroundBrush}" behaviors:TweetBackgroundColorBehavior.MentionBackground="{StaticResource TweetFieldTweetListTweetMentionBackgroundBrush}" behaviors:TweetBackgroundColorBehavior.MyStatusBackground="{StaticResource TweetFieldTweetListTweetMyStatusBackgroundBrush}" behaviors:TweetBackgroundColorBehavior.TweetBrushAlpha="{Binding Source={StaticResource Setting},Path=Setting.TweetBrushAlpha}" behaviors:TweetBackgroundColorBehavior.TweetType="{Binding Tweet.TweetType}" RenderTransformOrigin="0.5,0.5">
		<Grid.RenderTransform>
			<CompositeTransform/>
		</Grid.RenderTransform>

		<Grid.RowDefinitions>
            <RowDefinition Height="7"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="7"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="1" x:Name="MentionTweetGrid" Visibility="Collapsed" Height="0" Background="{StaticResource FlantterTransparentBrush}">
            <Grid.Resources>
                <Storyboard x:Name="MentionTweetOpenAnimation">
                    <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="Height" Storyboard.TargetName="MentionTweetGrid">
                        <EasingDoubleKeyFrame KeyTime="0:0:0.2" Value="50">
                            <EasingDoubleKeyFrame.EasingFunction>
                                <SineEase EasingMode="EaseInOut"/>
                            </EasingDoubleKeyFrame.EasingFunction>
                        </EasingDoubleKeyFrame>
                    </DoubleAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetMainGrid" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="IsIndeterminate">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="False"/>
                    </ObjectAnimationUsingKeyFrames>
                </Storyboard>
                <Storyboard x:Name="MentionTweetQuoteOpenAnimation">
                    <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="Height" Storyboard.TargetName="MentionTweetGrid">
                        <EasingDoubleKeyFrame KeyTime="0:0:0.2" Value="62.5">
                            <EasingDoubleKeyFrame.EasingFunction>
                                <SineEase EasingMode="EaseInOut"/>
                            </EasingDoubleKeyFrame.EasingFunction>
                        </EasingDoubleKeyFrame>
                    </DoubleAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetMainGrid" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="IsIndeterminate">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="False"/>
                    </ObjectAnimationUsingKeyFrames>
                </Storyboard>
                <Storyboard x:Name="MentionTweetCloseAnimation">
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetGrid" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0:0:0.2" Value="Collapsed"/>
                    </ObjectAnimationUsingKeyFrames>

                    <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="Height" Storyboard.TargetName="MentionTweetGrid">
                        <EasingDoubleKeyFrame KeyTime="0:0:0.2" Value="0">
                            <EasingDoubleKeyFrame.EasingFunction>
                                <SineEase EasingMode="EaseInOut"/>
                            </EasingDoubleKeyFrame.EasingFunction>
                        </EasingDoubleKeyFrame>
                    </DoubleAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetMainGrid" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0:0:0.2" Value="Visible"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0:0:0.2" Value="Collapsed"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="IsIndeterminate">
                        <DiscreteObjectKeyFrame KeyTime="0:0:0.2" Value="False"/>
                    </ObjectAnimationUsingKeyFrames>
                </Storyboard>
                <Storyboard x:Name="MentionTweetOpenLoadingAnimation">
                    <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="Height" Storyboard.TargetName="MentionTweetGrid">
                        <EasingDoubleKeyFrame KeyTime="0:0:0.2" Value="20">
                            <EasingDoubleKeyFrame.EasingFunction>
                                <SineEase EasingMode="EaseInOut"/>
                            </EasingDoubleKeyFrame.EasingFunction>
                        </EasingDoubleKeyFrame>
                    </DoubleAnimationUsingKeyFrames>

                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetMainGrid" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Collapsed"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="Visible"/>
                    </ObjectAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="MentionTweetLoadingProgressBar" Storyboard.TargetProperty="IsIndeterminate">
                        <DiscreteObjectKeyFrame KeyTime="0" Value="True"/>
                    </ObjectAnimationUsingKeyFrames>
                </Storyboard>
            </Grid.Resources>
            
			<i:Interaction.Behaviors>
				<core:EventTriggerBehavior EventName="Tapped">
					<core:InvokeCommandAction Command="{Binding Source={StaticResource Notice},Path=ConversationShowCommand}" CommandParameter="{Binding Tweet}"/>
				</core:EventTriggerBehavior>
			</i:Interaction.Behaviors>

            <ProgressBar Visibility="Collapsed" x:Name="MentionTweetLoadingProgressBar"/>

            <StackPanel Visibility="Collapsed" x:Name="MentionTweetMainGrid" Height="60" Margin="0,0,0,7.5">

                <TextBlock Visibility="{Binding Tweet.HasQuoteRetweetInformation,Converter={StaticResource BooleanToVisibilityConverter}}" Margin="65,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" FontFamily="Segoe UI Symbol">
                    <Run Foreground="{StaticResource TweetFieldTweetListTweetRetweetSymbolIconForegroundBrush}" FontSize="10.5" Text="&#xE117;" FontWeight="Bold"/><Run Foreground="{StaticResource TweetFieldTweetListTweetUserScreenNameNameTextblockForegroundBrush}" FontSize="10.5" Text=" Quote Retweet"/>
                </TextBlock>
                
                <Grid>
                    <Border BorderThickness="0" Height="30" Width="30" Margin="30,2.5,0,0" CornerRadius="3" HorizontalAlignment="Left" VerticalAlignment="Top">
                        <Border.Background>
                            <ImageBrush ImageSource="{Binding Tweet.MentionInformation.User.ProfileImageUrl}" />
                        </Border.Background>
                    </Border>

                    <TextBlock Margin="65,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Top">
						<Run Foreground="{StaticResource TweetFieldTweetListTweetUserNameTextblockForegroundBrush}" FontSize="12" Text="{Binding Tweet.MentionInformation.User.Name}" FontWeight="Bold"/><Run Foreground="{StaticResource TweetFieldTweetListTweetUserScreenNameNameTextblockForegroundBrush}" FontSize="10.5" Text=" @"/><Run Foreground="{StaticResource TweetFieldTweetListTweetUserScreenNameNameTextblockForegroundBrush}" FontSize="10.5" Text="{Binding Tweet.MentionInformation.User.ScreenName}"/>
                    </TextBlock>
                    <TextBlock FontFamily="{Binding Source={StaticResource Setting},Path=Setting.CustomFontName}" FontSize="{Binding Source={StaticResource Setting},Path=Setting.FontSize}" Height="19.5" Width="{Binding ElementName=MentionTweetMainGrid, Path=Width}" TextWrapping="NoWrap" TextTrimming="WordEllipsis" Margin="65,18,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Foreground="{StaticResource TweetFieldTweetListTweetTextTextblockForegroundBrush}" behaviors:TexbblockNavigationServiceBehavior.Entities="{Binding Tweet.MentionInformation.Entities}" behaviors:TexbblockNavigationServiceBehavior.Text="{Binding Tweet.MentionInformation.Text}"/>
                </Grid>
            </StackPanel>
        </Grid>

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="1" Orientation="Vertical">
                <Border BorderThickness="0" Height="{Binding Source={StaticResource Setting},Path=Setting.IconSize,Converter={StaticResource EnumToIntConverter}}" Width="{Binding Source={StaticResource Setting},Path=Setting.IconSize,Converter={StaticResource EnumToIntConverter}}" Margin="0,0,0,0" CornerRadius="4">
                    <Border.Background>
                        <ImageBrush ImageSource="{Binding Tweet.User.ProfileImageUrl}" />
                    </Border.Background>
					
                    <!--<Image Source="{Binding Tweet.User.ProfileImageUrl}" />-->
                    
					<i:Interaction.Behaviors>
						<core:EventTriggerBehavior EventName="Tapped">
							<core:InvokeCommandAction Command="{Binding Source={StaticResource Notice},Path=UserProfileShowCommand}" CommandParameter="{Binding Tweet.User.ScreenName}"/>
						</core:EventTriggerBehavior>
					</i:Interaction.Behaviors>
                </Border>
                <SymbolIcon Visibility="{Binding Tweet.HasRetweetInformation,Converter={StaticResource BooleanToVisibilityConverter}}" Foreground="{StaticResource TweetFieldTweetListTweetRetweetSymbolIconForegroundBrush}" Symbol="ReShare" HorizontalAlignment="Right" VerticalAlignment="Top" Width="25" Margin="0"/>
            </StackPanel>

            <StackPanel Grid.Column="3" x:Name="TweetBox" Orientation="Vertical">
                <TextBlock>
                    <Run Foreground="{StaticResource TweetFieldTweetListTweetUserNameTextblockForegroundBrush}" FontSize="12" Text="{Binding Tweet.User.Name}" FontWeight="Bold"/><Run Foreground="{StaticResource TweetFieldTweetListTweetUserScreenNameNameTextblockForegroundBrush}" FontSize="10.5" Text=" @"/><Run Foreground="{StaticResource TweetFieldTweetListTweetUserScreenNameNameTextblockForegroundBrush}" FontSize="10.5" Text="{Binding Tweet.User.ScreenName}"/>
                </TextBlock>
                <TextBlock Width="{Binding ElementName=TweetBox, Path=Width}" TextWrapping="Wrap" Margin="0,2" FontFamily="{Binding Source={StaticResource Setting},Path=Setting.CustomFontName}" FontSize="{Binding Source={StaticResource Setting},Path=Setting.FontSize}" behaviors:TexbblockNavigationServiceBehavior.Entities="{Binding Tweet.Entities}" behaviors:TexbblockNavigationServiceBehavior.Text="{Binding Tweet.Text}"/>
                <TextBlock FontSize="10.5" HorizontalAlignment="Left">
                    <Run Foreground="{StaticResource TweetFieldTweetListTweetDateTimeTextblockForegroundBrush}" Text="{Binding Tweet.CreatedAt,Converter={StaticResource DateTimeToStringConverter}}"/>
                    <Run Foreground="{StaticResource TweetFieldTweetListTweetOtherTextblockForegroundBrush}" Text="  -  "/>
                    <Run Foreground="{StaticResource TweetFieldTweetListTweetOtherTextblockForegroundBrush}" Text="via "/><Run Foreground="{StaticResource TweetFieldTweetListTweetSourceTextblockForegroundBrush}" Text="{Binding Tweet.Source}"/>
                </TextBlock>

                <ItemsControl Visibility="{Binding Tweet.Entities.MediaEntities.Count,Converter={StaticResource IntToVisibilityConverter}}" Grid.Row="1" ItemsSource="{Binding Tweet.Entities.MediaEntities}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <winRTXamlControls:WrapPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button Foreground="{StaticResource FlantterTransparentBrush}" BorderBrush="{x:Null}" BorderThickness="0" Command="{Binding Source={StaticResource Notice},Path=MediaShowCommand}" CommandParameter="{Binding}">
                                <Image MinWidth="75" MaxWidth="150" Height="75" Source="{Binding MediaThumbnailUrl}" Stretch="Uniform"/>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <Grid Visibility="{Binding Tweet.HasRetweetInformation,Converter={StaticResource BooleanToVisibilityConverter}}" Grid.Row="2" Margin="0,2,0,0" Background="{StaticResource FlantterTransparentBrush}" HorizontalAlignment="Left">

					<i:Interaction.Behaviors>
						<core:EventTriggerBehavior EventName="Tapped">
							<core:InvokeCommandAction Command="{Binding Source={StaticResource Notice},Path=UserProfileShowCommand}" CommandParameter="{Binding Tweet.RetweetInformation.User.ScreenName}"/>
						</core:EventTriggerBehavior>
					</i:Interaction.Behaviors>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Border Grid.Column="0" BorderThickness="0" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,0,0,0" Height="22" Width="22" CornerRadius="2">
                        <Border.Background>
                            <ImageBrush ImageSource="{Binding Tweet.RetweetInformation.User.ProfileImageUrl}" />
                        </Border.Background>
                    </Border>
                    <TextBlock Grid.Column="1" Foreground="{StaticResource TweetFieldTweetListTweetRetweetTextTextblockForegroundBrush}" FontSize="10" Margin="5,0,0,0" VerticalAlignment="Bottom" TextWrapping="Wrap" Text="{Binding Tweet.ConvertedRetweetCounterString}"/>
                </Grid>

                <TextBlock Visibility="{Binding Tweet.RetweetCounter2Visibility,Converter={StaticResource BooleanToVisibilityConverter}}" Grid.Row="2" HorizontalAlignment="Left" Foreground="{StaticResource TweetFieldTweetListTweetRetweetTextTextblockForegroundBrush}" FontSize="10" Margin="2,2,0,0" VerticalAlignment="Bottom" TextWrapping="Wrap" Text="{Binding Tweet.ConvertedRetweetCounter2String}"/>
            </StackPanel>

            <ContentControl Style="{StaticResource RetweetTriangleIcon}" Grid.Column="1" Visibility="{Binding Tweet.RetweetTriangleIcon,Converter={StaticResource BooleanToVisibilityConverter}}" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="-5,-5"/>
            <ContentControl Style="{StaticResource FavoriteTriangleIcon}" Grid.Column="1" Visibility="{Binding Tweet.FavoriteTriangleIcon,Converter={StaticResource BooleanToVisibilityConverter}}" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="-5,-5"/>
            <ContentControl Style="{StaticResource RetweetFavoriteTriangleIcon}" Grid.Column="1" Visibility="{Binding Tweet.RetweetFavoriteTriangleIcon,Converter={StaticResource BooleanToVisibilityConverter}}" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="-5,-5"/>

        </Grid>

        <Grid Grid.Row="3" x:Name="TweetCommandBar" Visibility="Collapsed" Height="0" HorizontalAlignment="Right" Margin="0,0,18,0" behaviors:TweetCommandBarBehaviors.Selected="{Binding Selected}">
            <Grid.Resources>
                <Storyboard x:Name="TweetCommandBarOpenAnimation">
                    <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="Height" Storyboard.TargetName="TweetCommandBar">
                        <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="{Binding Source={StaticResource Setting},Path=Setting.TweetCommandBarHeight}">
                            <EasingDoubleKeyFrame.EasingFunction>
                                <SineEase EasingMode="EaseInOut"/>
                            </EasingDoubleKeyFrame.EasingFunction>
                        </EasingDoubleKeyFrame>
                    </DoubleAnimationUsingKeyFrames>
                </Storyboard>
                <Storyboard x:Name="TweetCommandBarCloseAnimation">
                    <DoubleAnimationUsingKeyFrames EnableDependentAnimation="True" Storyboard.TargetProperty="Height" Storyboard.TargetName="TweetCommandBar">
                        <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="0">
                            <EasingDoubleKeyFrame.EasingFunction>
                                <SineEase EasingMode="EaseInOut"/>
                            </EasingDoubleKeyFrame.EasingFunction>
                        </EasingDoubleKeyFrame>
                    </DoubleAnimationUsingKeyFrames>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TweetCommandBar" Storyboard.TargetProperty="Visibility">
                        <DiscreteObjectKeyFrame KeyTime="0:0:0.1" Value="Collapsed"/>
                    </ObjectAnimationUsingKeyFrames>
                </Storyboard>
            </Grid.Resources>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="4" x:Uid="TweetField_TweetList_TweetCommand_ReplyCommandButton" ToolTipService.ToolTip="返信" BorderBrush="{x:Null}" FlowDirection="LeftToRight" Margin="0,0" Padding="10,4" Command="{Binding Source={StaticResource Notice},Path=ReplyCommand}" CommandParameter="{Binding Tweet}" VerticalAlignment="Stretch">
                <i:Interaction.Behaviors>
					<core:EventTriggerBehavior EventName="RightTapped">
						<util:ShowAttachedFlyoutAction/>
					</core:EventTriggerBehavior>
                </i:Interaction.Behaviors>
                <SymbolIcon Foreground="{StaticResource TweetFieldTweetListTweetCommandReplySymbolIconForegroundBrush}" Symbol="Message"/>
                <FlyoutBase.AttachedFlyout>
                    <MenuFlyout>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_ReplyCommandButton_Reply" Text="&#xE172;    返信" Command="{Binding Source={StaticResource Notice},Path=ReplyCommand}" CommandParameter="{Binding Tweet}" FontFamily="Segoe UI Symbol"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_ReplyCommandButton_ReplyAll" Text="&#xE165;    全員に返信" Command="{Binding Source={StaticResource Notice},Path=ReplyToAllCommand}" CommandParameter="{Binding Tweet}" FontFamily="Segoe UI Symbol"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_ReplyCommandButton_SendDM" Text="&#xE119;    DMで返信" Command="{Binding Source={StaticResource Notice},Path=ReplyWithDirectMessageCommand}" CommandParameter="{Binding Tweet}" FontFamily="Segoe UI Symbol"/>
                    </MenuFlyout>
                </FlyoutBase.AttachedFlyout>
            </Button>
            <Button Grid.Column="3" x:Uid="TweetField_TweetList_TweetCommand_RetweetCommandButton" ToolTipService.ToolTip="リツイート" BorderBrush="{x:Null}" FlowDirection="LeftToRight" Margin="0,0" Padding="10,4" Command="{Binding Source={StaticResource Notice},Path=RetweetCommand}" CommandParameter="{Binding Tweet}" VerticalAlignment="Stretch">
                <i:Interaction.Behaviors>
					<core:EventTriggerBehavior EventName="RightTapped">
						<util:ShowAttachedFlyoutAction/>
					</core:EventTriggerBehavior>
                </i:Interaction.Behaviors>
                <SymbolIcon Symbol="ReShare" behaviors:RetweetSymbolIconPropertyBehavior.Retweeted="{Binding Tweet.Retweeted}" behaviors:RetweetSymbolIconPropertyBehavior.DeleteRetweetSymbolIconForegroundBrush="{StaticResource TweetFieldTweetListTweetCommandDeleteRetweetSymbolIconForegroundBrush}" behaviors:RetweetSymbolIconPropertyBehavior.RetweetSymbolIconForegroundBrush="{StaticResource TweetFieldTweetListTweetCommandRetweetSymbolIconForegroundBrush}"/>
                <FlyoutBase.AttachedFlyout>
                    <MenuFlyout>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_RetweetCommandButton_Retweet" Text="&#xE1CA;    公式RT" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=RetweetCommand}" CommandParameter="{Binding Tweet}"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_ReplyCommandButton_UnofficialRetweet" Text="&#xE172;    非公式RT" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=UnofficialRetweetCommand}" CommandParameter="{Binding Tweet}"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_ReplyCommandButton_URLQuoteTweet" Text="&#xE167;    URLを引用してツイート" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=UrlQuoteRetweetCommand}" CommandParameter="{Binding Tweet}"/>
                    </MenuFlyout>
                </FlyoutBase.AttachedFlyout>
            </Button>
            <Button Grid.Column="2" x:Uid="TweetField_TweetList_TweetCommand_FavoriteCommandButton" ToolTipService.ToolTip="お気に入り" BorderBrush="{x:Null}" FlowDirection="LeftToRight" Margin="0,0" Padding="10,4" Command="{Binding Source={StaticResource Notice},Path=FavoriteCommand}" CommandParameter="{Binding Tweet}" VerticalAlignment="Stretch">
                <SymbolIcon Symbol="Favorite" behaviors:FavoriteSymbolIconPropertyBehavior.Favorited="{Binding Tweet.Favorited}" behaviors:FavoriteSymbolIconPropertyBehavior.DeleteFavoriteSymbolIconForegroundBrush="{StaticResource TweetFieldTweetListTweetCommandDeleteFavoriteSymbolIconForegroundBrush}" behaviors:FavoriteSymbolIconPropertyBehavior.FavoriteSymbolIconForegroundBrush="{StaticResource TweetFieldTweetListTweetCommandFavoriteSymbolIconForegroundBrush}"/>
            </Button>
            <Button Grid.Column="1" x:Uid="TweetField_TweetList_TweetCommand_URLCommandButton" ToolTipService.ToolTip="URL" BorderBrush="{x:Null}" FlowDirection="LeftToRight" Margin="0,0" Padding="10,4" VerticalAlignment="Stretch">
                <SymbolIcon Foreground="{StaticResource TweetFieldTweetListTweetCommandUrlSymbolIconForegroundBrush}" Symbol="Link"/>
                <Button.Flyout>
                    <Flyout controls:BindableFlyout.ItemsSource="{Binding Tweet.Entities.UrlEntities}">
                        <controls:BindableFlyout.ItemTemplate>
                            <DataTemplate>
                                <MenuFlyoutItem ToolTipService.Placement="Top" ToolTipService.ToolTip="{Binding ExpandedUrl}" Text="{Binding DisplayUrl}" Command="{Binding Source={StaticResource Notice},Path=UrlClickCommand}" CommandParameter="{Binding}"/>
                            </DataTemplate>
                        </controls:BindableFlyout.ItemTemplate>
                    </Flyout>
                </Button.Flyout>
            </Button>
            <Button Grid.Column="0" x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton" ToolTipService.ToolTip="メニュー" BorderBrush="{x:Null}" FlowDirection="LeftToRight" Margin="0,0" VerticalAlignment="Stretch">
                <SymbolIcon Foreground="{StaticResource TweetFieldTweetListTweetCommandMenuSymbolIconForegroundBrush}" Symbol="Add"/>
                <Button.Flyout>
                    <MenuFlyout>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton_UserProfile" Text="&#xE136;    ユーザープロフィール" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=UserProfileShowCommand}" CommandParameter="{Binding Tweet.User.ScreenName}"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton_TweetDetail" Text="&#xE14C;    ツイートの詳細" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=TweetDetailShowCommand}" CommandParameter="{Binding Tweet}"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton_Retweeter" Visibility="{Binding Tweet.RetweetCount,Converter={StaticResource IntToVisibilityConverter}}" Text="&#xE1CA;    リツイートした人" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=RetweeterShowCommand}" CommandParameter="{Binding Tweet}"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton_Copy" Text="&#xE16F;    コピー" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=TweetCopyCommand}" CommandParameter="{Binding Tweet}"/>
                        <MenuFlyoutSeparator/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton_UserMute" Text="&#xE1E0;    ユーザーミュート" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=UserMuteCommand}" CommandParameter="{Binding Tweet}"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton_ClientMute" Text="&#xE1E0;    クライアントミュート" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=ClientMuteCommand}" CommandParameter="{Binding Tweet}"/>
                        <MenuFlyoutItem x:Uid="TweetField_TweetList_TweetCommand_MenuCommandButton_Delete" Visibility="{Binding Tweet.IsMyStatus,Converter={StaticResource BooleanToVisibilityConverter}}" Text="&#xE107;    削除" FontFamily="Segoe UI Symbol" Command="{Binding Source={StaticResource Notice},Path=TweetDeleteCommand}" CommandParameter="{Binding Tweet}"/>
                    </MenuFlyout>
                </Button.Flyout>
            </Button>
        </Grid>
    </Grid>

</UserControl>
